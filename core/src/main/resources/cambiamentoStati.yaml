# Configurazione delle transizioni di stato per le annotazioni
# Questo file definisce tutte le transizioni permesse tra stati di annotazione
# in base ai ruoli utente

transizioni:
  # Transizioni per USER normale
  - statoPartenza: "INSERITA"
    statoArrivo: "MODIFICATA"
    ruoloRichiesto: "USER"
    descrizione: "Utente può modificare la propria annotazione"

  # Transazioni per modificare
  - statoPartenza: "INSERITA"
    statoArrivo: "MODIFICATA"
    ruoloRichiesto: "MODERATOR"
    descrizione: "Moderatore può modificare annotazione"
  - statoPartenza: "INSERITA"
    statoArrivo: "MODIFICATA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può modificare annotazione"

  # Transizioni per MODERATOR
  - statoPartenza: "INSERITA"
    statoArrivo: "CONFERMATA"
    ruoloRichiesto: "MODERATOR"
    descrizione: "Moderatore può confermare annotazione"

  - statoPartenza: "MODIFICATA"
    statoArrivo: "CONFERMATA"
    ruoloRichiesto: "MODERATOR"
    descrizione: "Moderatore può confermare annotazione modificata"

  #- statoPartenza: "INSERITA"
  #  statoArrivo: "RIFIUTATA"
  #  ruoloRichiesto: "MODERATOR"
  #  descrizione: "Moderatore può rifiutare annotazione"

  #- statoPartenza: "MODIFICATA"
  #  statoArrivo: "RIFIUTATA"
  #  ruoloRichiesto: "MODERATOR"
  #  descrizione: "Moderatore può rifiutare annotazione modificata"

  - statoPartenza: "INSERITA"
    statoArrivo: "BANNATA"
    ruoloRichiesto: "MODERATOR"
    descrizione: "Moderatore può bannare annotazione"

  - statoPartenza: "MODIFICATA"
    statoArrivo: "BANNATA"
    ruoloRichiesto: "MODERATOR"
    descrizione: "Moderatore può bannare annotazione modificata"

  # Transizioni per ADMIN
  - statoPartenza: "CONFERMATA"
    statoArrivo: "RIFIUTATA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può rifiutare annotazione confermata"

  - statoPartenza: "CONFERMATA"
    statoArrivo: "DAINVIARE"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può inviare annotazione confermata"

  - statoPartenza: "DAINVIARE"
    statoArrivo: "RIFIUTATA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può rifiutare annotazione da inviare"

  - statoPartenza: "DAINVIARE"
    statoArrivo: "BANNATA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può bannare annotazione da inviare"

  # Transizioni per ADMIN
  - statoPartenza: "RIFIUTATA"
    statoArrivo: "INSERITA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può riabilitare annotazione rifiutata"

  - statoPartenza: "BANNATA"
    statoArrivo: "INSERITA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può riportare annotazione bannata a inserita"

  - statoPartenza: "SCADUTA"
    statoArrivo: "INSERITA"
    ruoloRichiesto: "ADMIN"
    descrizione: "Admin può riportare annotazione scaduta a inserita"

  # Transizioni per SYSTEM
  #- statoPartenza: "INSERITA"
  #  statoArrivo: "ERRORE"
  #  ruoloRichiesto: "ADMIN"
  #  descrizione: "Sistema può marcare annotazione in errore"

  #- statoPartenza: "MODIFICATA"
  #  statoArrivo: "ERRORE"
  #  ruoloRichiesto: "ADMIN"
  #  descrizione: "Sistema può marcare annotazione in errore"

  #- statoPartenza: "ERRORE"
  #  statoArrivo: "INSERITA"
  #  ruoloRichiesto: "ADMIN"
  #  descrizione: "Sistema può ripristinare annotazione da errore"
